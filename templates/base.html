{% load static %}

{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>CalPERS</title>
  <!-- Custom fonts for this template-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"
    type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">
  <!-- Custom styles for this template-->
  <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet">


  <link rel="stylesheet" href="{% static 'date-time-phone/jquery-ui.css' %}">
  <link rel='stylesheet' href="{% static 'date-time-phone/jquery-ui-timepicker-addon.css' %}" />

</head>

<body id="page-top">
  <!-- Page Wrapper -->
  <div id="wrapper">
    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="#">
        <!-- <div class="sidebar-brand-icon rotate-n-15">
            <i class="fas fa-address-card"></i>
          </div> -->
        <div class="sidebar-brand-text mx-3"><img src="{% static 'img/CalpersLogo.png' %}" width="145" height="50"></h1>
        </div>
      </a>
      <!-- Divider -->
      <hr class="sidebar-divider my-0">
      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="#" id="prefname">
          <a class="nav-link" href="{% url 'dashboard' %}">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <!-- <hr class="sidebar-divider my-0">
      <!-- Nav Item - Companies -->
      <!-- <li class="nav-item">
        <a class="nav-link" href="#">
          <i class="fas fa-fw fa-chart-area"></i>
          <span>Companies</span></a>
      </li> -->
      <!-- Nav Item - Contact -->
      <!-- <li class="nav-item">
        <a class="nav-link" href="#">
          <i class="fas fa-fw fa-table"></i>
          <span>Contact</span></a>
      </li> -->
      <!-- Divider -->
      <hr class="sidebar-divider my-0">
      <!-- Nav Item - Profile -->
      <li class="nav-item">
        <!-- <a class="nav-link" href="#"> -->
          <a class="nav-link" href="{% url 'profile' %}">
            <i class="fas fa-fw fa-user"></i>
            <span>Edit Profile</span></a>
      </li>
      <!-- Nav Item - Change Password -->
      <li class="nav-item">
        <!-- <a class="nav-link" href="#"> -->
          <a class="nav-link" href="{% url 'change-password' %}">
            <i class="fas fa-fw fa-key"></i>
            <span>Change Password</span></a>
      </li>

      <!-- Nav Item - Forgot Password -->
      <!-- <li class="nav-item">
        <a class="nav-link" href="#">
          <i class="fas fa-fw fa-key"></i>
          <span>Forgot Password</span></a>
      </li> -->

      <!-- Nav Item - Logout -->
      <li class="nav-item">
        <a class="nav-link" href="{% url 'logout' %}">
          <i class="fas fa-fw fa-sign-out-alt"></i>
          <span>Logout</span></a>
      </li>
      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">
    </ul>
    <!-- End of Sidebar -->
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
      <!-- Main Content -->
      <div id="content">
        {% block content %} {% endblock content %}

      </div>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <!-- Bootstrap core JavaScript-->
      <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
      <!-- Core plugin JavaScript-->
      <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>
      <!-- Custom scripts for all pages-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/3.3.7+1/js/sb-admin-2.js"></script>
      <script>
        setTimeout(function () {
          if ($('#msg').length > 0) {
            $('#msg').remove();
          }
        }, 2000)
      </script>

      <script src="{% static 'date-time-phone/jquery-ui.js' %}"></script>
      <script src="{% static 'date-time-phone/jquery-ui-timepicker-addon.js' %}"></script>

      <script>
        $(function () {
          // $("#id_birth_date").datetimepicker({ dateFormat: 'yy-mm-dd', maxDate: 0, controlType: 'select' }).attr("autocomplete", "off");
          //$("#id_birth_date").timepicker({ dateFormat: 'yy-mm-dd', maxDate: 0, controlType: 'select' }).attr("autocomplete", "off");
          $("#id_birth_date").datepicker({ dateFormat: 'yy-mm-dd' }).attr("autocomplete", "off");
        });
      </script>

      <script src="{% static 'date-time-phone/jquery-input-mask-phone-number.min.js' %}"></script>
      <script type="text/javascript">
      $( document ).ready(function() {
        $.ajax({
            url: 'http://127.0.0.1:8000/fetchprefname/',
            type: 'get',
            dataType: 'json',
            'success': function (data) {
            pref_name =  data['pref_name'];
            if(pref_name === null){
            $("#prefname").html("Hello <b>User!</b>");
            }
            else
            {
            $("#prefname").html("Hello "+pref_name);
            }
            }
        });
      });
             
      </script>
      <script>
        //(xxx) xxx-xxxx format code
        $(document).ready(function () {
          $('#id_phone_number').usPhoneFormat({
            format: 'xxxxxxxxxx',
          });
        });
      </script>
      {% block script %}{% endblock %}

      

</body>

</html>